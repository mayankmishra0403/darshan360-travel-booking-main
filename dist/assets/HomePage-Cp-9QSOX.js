import{r as o,u as j,j as e,L as s}from"./index-CLjvfxVe.js";import{g,l as N}from"./trips-BOHQsqPE.js";import{c as k}from"./bookings-D-FzDijF.js";import{c as F}from"./payments-dl7IQ2kK.js";import{m as n}from"./proxy-B5GhTnH_.js";const p="/assets/WhatsApp%20Image%202025-08-18%20at%2016.38.24_c7950d41-ChhJee4U.jpg";function L(){const[f,x]=o.useState(null),[u,b]=o.useState(null),{user:d}=j(),c=o.useRef(null);o.useEffect(()=>{const t=c.current;if(t&&t.dataset.razorpayInitialized!=="true")try{const a=document.createElement("script");a.src="https://checkout.razorpay.com/v1/payment-button.js",a.async=!0,a.setAttribute("data-payment_button_id","pl_R8LRTyYQ22F9Ql"),t.appendChild(a),t.dataset.razorpayInitialized="true"}catch(a){console.warn("Failed to inject Razorpay script into HomePage form",(a==null?void 0:a.message)||a)}},[]),o.useEffect(()=>{let t=!0;async function a(){var r;try{const i=await N();t&&y(Array.isArray(i)?i:[]);let l=null;Array.isArray(i)&&i.length&&(l=i.find(v=>v.priority)||i[0]);const h=(r=l==null?void 0:l.imageIds)==null?void 0:r[0],w=h?g(h):null;t&&(x(w||p),b(l))}catch{t&&x(p)}}return a(),()=>t=!1},[]);const[m,y]=o.useState([]);return e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 z-0",children:[...Array(12)].map((t,a)=>e.jsx("div",{className:`absolute rounded-full bg-gradient-to-br from-blue-300 via-purple-200 to-orange-200 opacity-40 animate-bubble${a%3}`,style:{width:`${16+Math.random()*28}px`,height:`${16+Math.random()*28}px`,left:`${Math.random()*95}%`,bottom:`${Math.random()*85}%`,animationDelay:`${Math.random()*5}s`}},a))}),e.jsxs("section",{className:"relative overflow-hidden text-white h-screen",style:{backgroundImage:`url(${f})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsx("style",{children:`
            @keyframes gradient {
              0% { background-position: 0% 50% }
              50% { background-position: 100% 50% }
              100% { background-position: 0% 50% }
            }
          `}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 pt-16 sm:pt-20 md:pt-24 lg:pt-28",children:e.jsxs(n.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center flex flex-col items-center justify-center min-h-[calc(100vh-8rem)]",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-white px-4",children:e.jsxs("span",{className:"relative inline-block",children:["Explore the timeless"," ",e.jsx("span",{style:{fontFamily:"'Kalam', cursive",fontSize:"1.2em",color:"#fbbf24",textShadow:"2px 2px 12px rgba(0,0,0,1)"},className:"whitespace-nowrap",children:"तपोभूमि"})," ","of",e.jsx("br",{className:"md:hidden"}),e.jsx("span",{style:{fontFamily:"'Kalam', cursive",fontSize:"1.2em",color:"#ffe066",textShadow:"2px 2px 12px rgba(0,0,0,1)"},className:"whitespace-nowrap",children:"श्री राम"}),e.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 bottom-[-18px] w-[120%] h-6 pointer-events-none z-[-1] animate-fire-glow"})]})}),e.jsx("p",{className:"text-lg sm:text-xl opacity-90 mb-12 max-w-3xl mx-auto",children:"Handpicked destinations, expert local guides, and seamless booking experiences. Turn your travel dreams into unforgettable memories."}),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"flex flex-col items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[d?e.jsxs(n.button,{className:"relative group px-16 py-4 rounded-full font-semibold text-xl overflow-hidden",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,type:"spring",stiffness:300},onClick:async()=>{try{const t=new Date().toISOString(),a=`upi_${Date.now()}`;await k({id:a,tripId:"default",tripTitle:"New Booking",userId:d.$id,status:"pending",date:t});try{await F({id:a,data:{orderId:a,tripId:"default",tripTitle:"New Booking",userId:d.$id,status:"created",amount:1e3*100,currency:"INR",date:t}})}catch(r){console.warn("Payment create fallback failed",(r==null?void 0:r.message)||r)}}catch(t){console.warn("Book now fallback failed",(t==null?void 0:t.message)||t)}try{const t=c.current;if(t){const a=t.querySelector('button, a, input[type="submit"]');a?a.click():alert("Payment widget not ready. Please try again in a moment.")}else alert("Payment widget not available. Please try again.")}catch(t){console.warn("Error triggering Razorpay button",(t==null?void 0:t.message)||t),alert("Failed to open payment widget. Please try again.")}},style:{background:"linear-gradient(-45deg, #FF6B6B, #FF8E53, #FFA07A, #FFB88C)",backgroundSize:"400% 400%",animation:"gradient 8s ease infinite",boxShadow:"0 8px 25px rgba(255, 107, 107, 0.3)"},children:[e.jsxs("span",{className:"relative z-10 text-white flex items-center gap-2",children:["Book Now",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transition-transform duration-500 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-400 via-orange-300 to-amber-400 opacity-0 group-hover:opacity-100 transition-all duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-700 delay-100"})]}):e.jsxs(s,{to:"/login",className:"relative group px-16 py-4 rounded-full font-semibold text-xl overflow-hidden flex items-center justify-center",style:{background:"linear-gradient(-45deg, #FF6B6B, #FF8E53, #FFA07A, #FFB88C)",backgroundSize:"400% 400%",animation:"gradient 8s ease infinite",boxShadow:"0 8px 25px rgba(255, 107, 107, 0.3)"},children:[e.jsxs("span",{className:"relative z-10 text-white flex items-center gap-2",children:["Login to Book",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transition-transform duration-500 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-rose-400 via-orange-300 to-amber-400 opacity-0 group-hover:opacity-100 transition-all duration-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-700 delay-100"})]}),e.jsx("div",{style:{display:"none"},"aria-hidden":!0,children:e.jsx("form",{ref:c})}),e.jsxs(s,{to:u?`/trips/${u.id}`:"/trips",className:"relative group bg-gradient-to-r from-amber-300 via-yellow-300 to-amber-200 text-white w-12 h-12 rounded-full font-medium shadow-lg flex items-center justify-center overflow-hidden",style:{boxShadow:"0 8px 20px rgba(251, 191, 36, 0.2)"},children:[e.jsx(n.span,{className:"relative z-10 transition-transform duration-300",whileHover:{scale:1.1,rotate:180},whileTap:{scale:.95},children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-200 via-amber-200 to-yellow-100 opacity-0 group-hover:opacity-100 transition-all duration-300"})]})]}),e.jsxs("div",{className:"fixed bottom-8 left-0 right-0 px-6 flex justify-between items-center max-w-7xl mx-auto",children:[e.jsxs(s,{to:"/contact",className:"relative group bg-gradient-to-br from-purple-500 via-indigo-500 to-blue-500 text-white px-6 py-3 rounded-full font-medium shadow-lg overflow-hidden",children:[e.jsxs(n.span,{className:"relative z-10 flex items-center gap-2",whileHover:{scale:1.05,rotate:-3},whileTap:{scale:.95},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Us"]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 via-indigo-500 to-purple-500 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:rotate-180"})]}),e.jsxs(s,{to:"/trips",className:"relative group bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 text-white px-6 py-3 rounded-full font-medium shadow-lg overflow-hidden",children:[e.jsxs(n.span,{className:"relative z-10 flex items-center gap-2",whileHover:{scale:1.05,rotate:3},whileTap:{scale:.95},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Explore Trips"]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-400 via-green-500 to-emerald-500 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:rotate-180"})]})]})]})]})}),e.jsxs("section",{className:"max-w-7xl mx-auto px-4 mt-8 pb-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Featured Trips"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:m&&m.length>0?[...m].sort((t,a)=>(a.priority===!0)-(t.priority===!0)).slice(0,6).map(t=>{var a;return e.jsxs("div",{className:"border rounded-lg overflow-hidden shadow-sm bg-white",children:[e.jsx(s,{to:`/trips/${t.id}`,className:"block h-48 overflow-hidden",children:e.jsx("img",{src:(a=t.imageIds)!=null&&a[0]?g(t.imageIds[0]):p,className:"w-full h-full object-cover",alt:t.title})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.title}),t.priority&&e.jsx("div",{className:"text-xs bg-yellow-200 text-yellow-900 px-2 py-0.5 rounded",children:"PRIORITY"})]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:t.date||"Flexible dates"}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(s,{to:`/trips/${t.id}`,className:"px-3 py-2 bg-gray-100 rounded",children:"Details"}),e.jsx(s,{to:`/trips/${t.id}`,className:"px-3 py-2 bg-blue-600 text-white rounded",children:"Book"})]})]})]},t.id)}):e.jsx("div",{className:"text-gray-600",children:"No featured trips yet. Add trips in the Admin panel and mark them as priority."})})]}),e.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-yellow-400/20 rounded-full blur-xl mix-blend-screen"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-pink-400/20 rounded-full blur-xl mix-blend-screen"})]})]})}export{L as default};

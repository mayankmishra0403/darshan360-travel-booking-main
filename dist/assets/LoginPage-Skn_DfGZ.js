import{u as v,a as N,r as a,j as e,L as f}from"./index-DEwbglG8.js";import{m as C}from"./proxy-CcXE3Fd_.js";function E(){const{login:p,loginWithGoogle:b,user:o,loading:c}=v(),i=N(),[t,n]=a.useState({email:"",password:""}),[m,r]=a.useState(""),[d,x]=a.useState(!1),[u,j]=a.useState(!1),[g,h]=a.useState(!1);a.useEffect(()=>{try{const s=localStorage.getItem("remember_email");s&&(n(l=>({...l,email:s})),h(!0))}catch(s){console.debug("localStorage read failed",s)}},[]),a.useEffect(()=>{!c&&o&&i("/")},[o,c,i]);const y=()=>!t.email||!t.password?(r("Please enter both email and password"),!1):/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(t.email)?(r(""),!0):(r("Please enter a valid email"),!1),w=async s=>{if(s.preventDefault(),!!y()){x(!0);try{await p(t),g?localStorage.setItem("remember_email",t.email):localStorage.removeItem("remember_email"),i("/")}catch(l){r((l==null?void 0:l.message)||"Login failed")}finally{x(!1)}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-white p-6",children:e.jsxs(C.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.45},className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Welcome back"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to access your trips and bookings"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Email"}),e.jsx("input",{type:"email",value:t.email,onChange:s=>n({...t,email:s.target.value}),placeholder:"you@domain.com",className:"mt-1 w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Password"}),e.jsx(f,{to:"/forgot",className:"text-xs text-blue-600",children:"Forgot?"})]}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{type:u?"text":"password",value:t.password,onChange:s=>n({...t,password:s.target.value}),placeholder:"Enter your password",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-200 pr-10"}),e.jsx("button",{type:"button",onClick:()=>j(s=>!s),className:"absolute right-2 top-2 text-sm text-gray-500",children:u?"Hide":"Show"})]})]}),e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:s=>h(s.target.checked)}),e.jsx("span",{className:"text-gray-600",children:"Remember me"})]})}),m&&e.jsx("div",{className:"text-red-600 text-sm",children:m}),e.jsx("button",{disabled:d,type:"submit",className:"w-full bg-blue-600 disabled:opacity-60 text-white py-2 rounded-lg font-semibold",children:d?"Signing in...":"Sign in"})]}),e.jsxs("div",{className:"my-4 flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-200"}),e.jsx("div",{className:"text-sm text-gray-400",children:"or"}),e.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),e.jsxs("button",{onClick:()=>b(),className:"w-full border border-gray-200 hover:bg-gray-50 text-gray-800 px-4 py-2 rounded flex items-center justify-center gap-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 48 48",children:[e.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303C33.602 32.911 29.143 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.156 7.961 3.039l5.657-5.657C34.869 6.053 29.704 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20c10.494 0 19.128-7.662 19.128-20 0-1.341-.138-2.651-.517-3.917z"}),e.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.815C14.655 16.108 18.961 13 24 13c3.059 0 5.842 1.156 7.961 3.039l5.657-5.657C34.869 6.053 29.704 4 24 4 16.318 4 9.656 8.337 6.306 14.691z"}),e.jsx("path",{fill:"#4CAF50",d:"M24 44c5.086 0 9.705-1.74 13.304-4.712l-6.137-5.192C28.973 35.461 26.651 36 24 36c-5.116 0-9.563-3.063-11.309-7.436l-6.5 5.017C9.468 39.556 16.227 44 24 44z"}),e.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303C33.602 32.911 29.143 36 24 36c-5.116 0-9.563-3.063-11.309-7.436l-6.5 5.017C9.468 39.556 16.227 44 24 44c10.494 0 19.128-7.662 19.128-20 0-1.341-.138-2.651-.517-3.917z"})]}),"Continue with Google"]}),e.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["No account? ",e.jsx(f,{className:"text-blue-600 font-medium",to:"/signup",children:"Create one"})]})]})})}export{E as default};

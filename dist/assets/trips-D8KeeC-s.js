import{d as n,Q as o}from"./index-DEwbglG8.js";const a="travel_db",u="68a1ce77001ee1b076d4",i="trip-media",c="68a1d1ee00065f1b5f0d",p="https://fra.cloud.appwrite.io/v1",d="68a05dab003973f60913",l="http://localhost:8787";function m(r,e,t=1200,s=800,I=100,$="center"){if(!e)return"";const y=p.replace(/\/$/,""),T=new URLSearchParams({project:d,width:String(t),height:String(s),quality:String(I),mode:$});return`${y}/storage/buckets/${r}/files/${e}/preview?${T.toString()}`}function g(r,e){if(!e)return"";const t=p.replace(/\/$/,""),s=new URLSearchParams({project:d});return`${t}/storage/buckets/${r}/files/${e}/view?${s.toString()}`}async function w(){return(await n.listDocuments(a,u)).documents.map(e=>f(e))}function f(r){return{id:r.$id,title:r.title,price:r.price,date:r.date,imageIds:Array.isArray(r.imageIds)?r.imageIds:r.imageId?[r.imageId]:[],videoId:r.videoId||null,stops:Array.isArray(r.stops)?r.stops.map(e=>e?typeof e=="string"?{name:e}:e:null).filter(Boolean):[]}}function D(r){return r?`${l.replace(/\/$/,"")}/${r}`:""}function S(r,{full:e=!0}={}){return r?e?g(i,r):m(i,r,1200,800,100,"center"):""}function v(r,{full:e=!0}={}){return r?e?g(i,r):m(i,r,1200,800,100,"center"):""}function A(r){return r?`${l.replace(/\/$/,"")}/${r}`:""}function _(r=[]){return Array.isArray(r)?r.map(e=>S(e)):[]}async function P(r){const e=await n.getDocument(a,u,r);return f(e)}async function U(r){return(await n.listDocuments(a,c,[o.equal("tripId",r),o.orderAsc("order")])).documents.map(t=>({id:t.$id,name:t.name,description:t.description,imageId:t.imageId,videoId:t.videoId||null,order:t.order}))}async function h(r){const e=await n.getDocument(a,c,r);return e?{id:e.$id,tripId:e.tripId,name:e.name,description:e.description,imageId:e.imageId,videoId:e.videoId||null,images:Array.isArray(e.images)?e.images:e.imageId?[e.imageId]:[]}:null}export{A as a,v as b,P as c,U as d,_ as e,D as f,S as g,h,w as l};
